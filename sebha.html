<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
    :root {
        --primary-gold: #FFD700;
        --emerald-green: #046307;
        --soft-beige: #fff8dc;
        --btn-gradient-start: #0b3d0b;
        --btn-gradient-end: #013220;
    }

    body {
        margin: 0;
        padding: 0;
        background: radial-gradient(circle, #0a4d20 0%, #013220 100%);
        font-family: 'Cairo', sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        overflow-x: hidden;
        color: var(--soft-beige);
    }

    body::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background-image: url('https://www.transparenttextures.com/patterns/arabesque.png');
        opacity: 0.1;
        pointer-events: none;
    }

    nav {
        width: 100%;
        padding: 10px 0;
        background: rgba(1,50,32,0.9);
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 12px;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 3px 10px rgba(0,0,0,0.4);
    }

    nav a {
        padding: 10px 20px;
        background: var(--soft-beige);
        color: var(--emerald-green);
        text-decoration: none;
        border-radius: 8px;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
        border: 2px solid var(--primary-gold);
    }

    nav a:hover {
        background: var(--primary-gold);
        color: var(--emerald-green);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
    }

    .tasbeeh-wrapper {
        margin-top: 30px;
        text-align: center;
        background: rgba(4, 50, 25, 0.85);
        padding: 50px;
        border-radius: 40px;
        box-shadow: 0 0 50px rgba(0,0,0,0.6), inset 0 0 25px rgba(255,215,0,0.2);
        backdrop-filter: blur(10px);
        width: 360px;
    }

    .islamic-pattern {
        font-family: 'Amiri', serif;
        color: var(--primary-gold);
        font-size: 2rem;
        margin-bottom: 15px;
    }

    .display-screen {
        background: #001a0f;
        border: 1px solid var(--primary-gold);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 35px;
        box-shadow: inset 0 0 20px rgba(0,0,0,1);
    }

    #counter {
        font-family: 'Amiri', serif;
        font-size: 4.5rem;
        color: var(--primary-gold);
        text-shadow: 0 0 15px rgba(255,215,0,0.7);
        margin: 0;
    }

    #zikr-text {
        font-size: 1.3rem;
        margin-top: 10px;
        min-height: 30px;
    }

    .main-button {
        width: 170px;
        height: 170px;
        background: linear-gradient(145deg, var(--btn-gradient-start), var(--btn-gradient-end));
        border: 5px solid var(--primary-gold);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0 auto;
        cursor: pointer;
        font-size: 2.2rem;
        color: var(--primary-gold);
        box-shadow: 0 10px 25px rgba(0,0,0,0.5);
        transition: all 0.1s;
        position: relative;
    }

    .main-button:active {
        transform: scale(0.92);
        box-shadow: 0 0 25px var(--primary-gold), 0 0 50px var(--soft-beige);
        animation: glow 0.3s ease-in-out;
    }

    @keyframes glow {
        0% { box-shadow: 0 0 25px var(--primary-gold); }
        50% { box-shadow: 0 0 50px var(--soft-beige); }
        100% { box-shadow: 0 0 25px var(--primary-gold); }
    }

    .tools {
        margin-top: 30px;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .tool-btn {
        background: transparent;
        border: 1px solid var(--primary-gold);
        color: var(--primary-gold);
        padding: 10px 18px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.95rem;
        transition: 0.3s;
    }

    .tool-btn:hover {
        background: var(--primary-gold);
        color: var(--emerald-green);
    }
</style>
</head>
<body>

<nav>
    <a href="duas.html">ğŸ¤² Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</a>
    <a href="hadith.html">ğŸ“œ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«</a>
    <a href="prayer-times.html">ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</a>
    <a href="azkar.html">ğŸ“¿ Ø§Ù„Ø£Ø°ÙƒØ§Ø±</a>
    <a href="asmaa.html">âœ¨ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡</a>
    <a href="cards.html">Ø§ØµÙ†Ø¹ ØµÙˆØ±Ù‡ Ø¯ÙŠÙ†ÙŠÙ‡</a>
    <a href="werd.html">ğŸ“– Ø§Ù„ÙˆÙØ±Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠ</a>
    <a href="moshaf.html">Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ</a>
    <a href="index.html">Ø§Ù„ØµÙØ­Ù‡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠÙ‡</a>
</nav>

<div class="tasbeeh-wrapper">
    <div class="islamic-pattern">ï·½</div>
    
    <div class="display-screen">
        <h1 id="counter">0</h1>
        <div id="zikr-text">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</div>
    </div>

    <div class="main-button" id="tap-zone" onclick="app.increment()">âœ¨</div>

    <div class="tools">
        <button class="tool-btn" onclick="app.reset()">ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯</button>
        <button class="tool-btn" onclick="app.changeZikr()">ØªØºÙŠÙŠØ± Ø§Ù„Ø°ÙƒØ±</button>
        <button class="tool-btn" onclick="app.setTotalCount()">ØªØ­Ø¯ÙŠØ¯ Ø¹Ø¯Ø¯ Ø§Ù„Ø°ÙƒØ±</button>
        <button class="tool-btn" onclick="app.shareCount()">Ø´Ø§Ø±Ùƒ Ù†ØªÙŠØ¬ØªÙƒ</button>
    </div>
</div>

<script>
const app = (() => {
    let state = {
        count: parseInt(localStorage.getItem('islamic_count')) || 0,
        zikrIndex: 0,
        azkar: ["Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡", "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡", "Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡", "Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±", "Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…"],
        totalCount: 33
    };

    const clickSound = new Audio('https://freesound.org/data/previews/256/256113_3263906-lq.mp3');

    const elCounter = document.getElementById('counter');
    const elZikr = document.getElementById('zikr-text');

    const updateUI = () => {
        elCounter.innerText = state.count.toLocaleString('ar-EG');
        elZikr.innerText = state.azkar[state.zikrIndex];
        localStorage.setItem('islamic_count', state.count);
    };

    updateUI();

    return {
        increment: () => {
            state.count++;
            clickSound.play();
            if(state.totalCount && state.count % state.totalCount === 0){
                app.changeZikr();
                alert("ØªÙ… Ø¥ØªÙ…Ø§Ù… Ø¯ÙˆØ±Ø© Ù…Ù† Ø§Ù„Ø°ÙƒØ±!");
            }
            updateUI();
            if (navigator.vibrate) navigator.vibrate(30);
        },
        reset: () => {
            if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯ØŸ")) {
                state.count = 0;
                updateUI();
            }
        },
        changeZikr: () => {
            state.zikrIndex = (state.zikrIndex + 1) % state.azkar.length;
            updateUI();
        },
        setTotalCount: () => {
            let input = prompt("Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø°ÙƒØ± Ø£ÙŠ Ù‚ÙŠÙ…Ø©:", state.totalCount);
            let val = parseInt(input);
            if(val > 0) state.totalCount = val;
            else alert("Ø§Ù„Ø¹Ø¯Ø¯ ØºÙŠØ± ØµØ­ÙŠØ­ØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ.");
        },
        shareCount: () => {
            if(navigator.share){
                navigator.share({
                    title: 'Ø³Ø¨Ø­ØªÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©',
                    text: `Ø¹Ø¯Ø¯ Ø£Ø°ÙƒØ§Ø±ÙŠ Ø§Ù„ÙŠÙˆÙ…: ${state.count} âœ¨`,
                    url: window.location.href
                });
            } else {
                alert(`Ø¹Ø¯Ø¯ Ø£Ø°ÙƒØ§Ø±ÙŠ Ø§Ù„ÙŠÙˆÙ…: ${state.count}`);
            }
        }
    };
})();
</script>

</body>
</html>
