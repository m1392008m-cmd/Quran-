<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØµØ­Ù Ø§Ù„Ø³Ù„Ø·Ø§Ù† - Ø§Ù„Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Aref+Ruqaa:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ottoman-green: #064e3b;
            --gold-leaf: #d4af37;
            --silk-white: #fdfaf1;
            --ruby: #8b0000;
            --deep-black: #050a08;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø¹Ø§Ù… */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--deep-black); }
        ::-webkit-scrollbar-thumb { background: var(--gold-leaf); border-radius: 10px; }

        body {
            background-color: var(--deep-black);
            background-image: url('https://www.transparenttextures.com/patterns/arabesque.png');
            font-family: 'Amiri', serif;
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
            color: var(--gold-leaf);
        }

        /* Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ± Ø§Ù„ÙƒØ¨ÙŠÙŠÙŠÙŠØ±) */
        .surah-sidebar {
            width: 320px;
            background: linear-gradient(180deg, #0a1f1a 0%, #064e3b 100%);
            border-left: 4px double var(--gold-leaf);
            display: flex;
            flex-direction: column;
            box-shadow: 10px 0 30px rgba(0,0,0,0.5);
            z-index: 10;
            transition: all 0.3s;
        }

        .sidebar-header {
            padding: 30px 20px;
            text-align: center;
            border-bottom: 2px solid var(--gold-leaf);
            background: rgba(0,0,0,0.3);
        }

        .sidebar-header h2 { 
            margin: 0; 
            font-family: 'Aref Ruqaa', serif; 
            font-size: 2rem;
            letter-spacing: 1px;
        }

        .surah-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
        }

        .surah-item {
            padding: 18px 25px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .surah-item:hover {
            background: rgba(212, 175, 55, 0.15);
            padding-right: 35px;
            color: #fff;
        }

        .surah-item.active {
            background: var(--gold-leaf);
            color: var(--ottoman-green);
        }

        .surah-item.active .surah-num { color: var(--ottoman-green); }

        .surah-num {
            font-family: 'Aref Ruqaa', serif;
            font-size: 1rem;
            color: var(--gold-leaf);
            opacity: 0.8;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© (Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø³Ù„Ø·Ø§Ù†ÙŠ) */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px;
            overflow-y: auto;
            position: relative;
            scroll-behavior: smooth;
        }

        .quran-page {
            background: var(--silk-white);
            width: 100%;
            max-width: 850px;
            min-height: 100%;
            border: 15px solid var(--ottoman-green);
            outline: 4px solid var(--gold-leaf);
            outline-offset: -12px;
            padding: 70px 55px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.9);
            position: relative;
            box-sizing: border-box;
            background-image: url('https://www.transparenttextures.com/patterns/natural-paper.png');
            margin-bottom: 40px;
        }

        /* Ø²Ø®Ø±ÙØ© Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
        .page-header {
            text-align: center;
            margin-bottom: 50px;
            border-bottom: 3px double var(--gold-leaf);
            padding-bottom: 25px;
        }

        .page-header h1 {
            font-family: 'Aref Ruqaa', serif;
            color: var(--ottoman-green);
            font-size: 3.5rem;
            margin: 0;
        }

        .bismillah {
            text-align: center;
            font-size: 2.5rem;
            color: #1a1a1a;
            margin-bottom: 40px;
            font-family: 'Amiri', serif;
            opacity: 0.9;
        }

        .quran-text {
            color: #222;
            font-size: 2.2rem;
            line-height: 2.8;
            text-align: justify;
            direction: rtl;
        }

        /* ØªØµÙ…ÙŠÙ… Ø±Ù‚Ù… Ø§Ù„Ø¢ÙŠØ© */
        .aya-symbol {
            color: var(--ruby);
            font-weight: bold;
            margin: 0 10px;
            display: inline-block;
            border: 2px solid var(--gold-leaf);
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            border-radius: 50% 0 50% 0;
            font-size: 1.2rem;
            background: #fff;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        #loader {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: none;
            color: var(--gold-leaf);
            background: var(--ottoman-green);
            padding: 12px 30px;
            border: 2px solid var(--gold-leaf);
            z-index: 1000;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        /* Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 800px) {
            .surah-sidebar { width: 80px; }
            .surah-item span:last-child { display: none; }
            .sidebar-header h2 { font-size: 0.8rem; }
            .quran-page { padding: 40px 20px; border-width: 8px; }
            .page-header h1 { font-size: 2rem; }
            .quran-text { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <div id="loader">Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ­Ø¶Ø§Ø± Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ø³Ù„Ø·Ø§Ù†ÙŠ...</div>

    <aside class="surah-sidebar">
        <div class="sidebar-header">
            <h2>ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ±</h2>
        </div>
        <div class="surah-list" id="surahList">
            </div>
    </aside>

    <main class="main-content">
        <div class="quran-page" id="quranPage">
            <header class="page-header">
                <h1 id="surahTitle">Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©</h1>
            </header>
            
            <div class="bismillah" id="bismillahText">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù</div>
            
            <article class="quran-text" id="quranContent">
                <div style="text-align:center; padding: 50px; opacity: 0.6;">
                    <p>ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø³ÙˆØ±Ø© Ù…Ø¨Ø§Ø±ÙƒØ© Ù…Ù† Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ</p>
                    <p style="font-size: 4rem;">ğŸ•Œ</p>
                </div>
            </article>
        </div>
    </main>

    <script>
        const API_URL = "https://api.alquran.cloud/v1";

        // 1. ÙˆØ¸ÙŠÙØ© Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙˆØ± ÙƒØ§Ù…Ù„Ø©
        async function fetchSurahs() {
            try {
                const res = await fetch(`${API_URL}/surah`);
                const data = await res.json();
                const listContainer = document.getElementById('surahList');
                
                data.data.forEach(surah => {
                    const item = document.createElement('div');
                    item.className = 'surah-item';
                    item.onclick = () => {
                        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ù†Ø´Ø·
                        document.querySelectorAll('.surah-item').forEach(i => i.classList.remove('active'));
                        item.classList.add('active');
                        // Ø¬Ù„Ø¨ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³ÙˆØ±Ø©
                        loadSurah(surah.number);
                    };
                    item.innerHTML = `
                        <span class="surah-num">${surah.number}</span>
                        <span>${surah.name}</span>
                    `;
                    listContainer.appendChild(item);
                });
            } catch (err) {
                console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø²Ø§Ø¦Ù†");
            }
        }

        // 2. ÙˆØ¸ÙŠÙØ© Ø¬Ù„Ø¨ Ù†Øµ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
        async function loadSurah(id) {
            const loader = document.getElementById('loader');
            const content = document.getElementById('quranContent');
            const title = document.getElementById('surahTitle');
            const bismillah = document.getElementById('bismillahText');

            loader.style.display = 'block';
            content.style.opacity = '0.3';

            try {
                const res = await fetch(`${API_URL}/surah/${id}`);
                const data = await res.json();
                
                title.innerText = data.data.name;
                
                // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¨Ø³Ù…Ù„Ø© (ØªØ®ØªÙÙŠ ÙÙŠ Ø§Ù„ÙØ§ØªØ­Ø© ÙˆØ§Ù„ØªÙˆØ¨Ø©)
                if (id == 1 || id == 9) {
                    bismillah.style.display = 'none';
                } else {
                    bismillah.style.display = 'block';
                }

                let textHtml = "";
                data.data.ayahs.forEach(aya => {
                    let text = aya.text;
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¨Ø³Ù…Ù„Ø© Ø§Ù„Ù…ÙƒØ±Ø±Ø© Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ù…Ù† Ø£ÙˆÙ„ Ø¢ÙŠØ© (Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø§Ù„ÙØ§ØªØ­Ø©)
                    if (id != 1 && aya.numberInSurah == 1) {
                        text = text.replace("Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù", "");
                    }
                    textHtml += `${text} <span class="aya-symbol">${aya.numberInSurah}</span> `;
                });

                content.innerHTML = textHtml;
                // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø¹Ù„Ù‰ Ø¨Ø³Ù„Ø§Ø³Ø©
                document.querySelector('.main-content').scrollTo({ top: 0, behavior: 'smooth' });

            } catch (err) {
                content.innerHTML = "<p style='text-align:center;'>ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø¢ÙŠØ§ØªØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.</p>";
            } finally {
                loader.style.display = 'none';
                content.style.opacity = '1';
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.onload = fetchSurahs;
    </script>
</body>
</html>
