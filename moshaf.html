<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مصحف التراز العثماني</title>
    <style>
        body { font-family: 'Times New Roman', serif; background-color: #f4f1ea; padding: 20px; }
        .container { max-width: 800px; margin: auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; }
        select { width: 100%; padding: 10px; font-size: 18px; margin-bottom: 20px; }
        .quran-text { font-size: 24px; line-height: 2; text-align: justify; border-top: 2px solid #eee; padding-top: 20px; }
        .surah-title { text-align: center; font-weight: bold; color: #8e44ad; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>المصحف الشريف (بالرواية المغربية/العثمانية)</h1>
    
    <select id="surahSelect" onchange="displaySurah()">
        <option value="">اختر السورة...</option>
    </select>

    <div id="quranDisplay" class="quran-text">
        </div>
</div>

<script>
    let quranData = null;

    // تحميل ملف JSON
    fetch('quran.json')
        .then(response => response.json())
        .then(data => {
            quranData = data.السور;
            const select = document.getElementById('surahSelect');
            
            quranData.forEach((surah, index) => {
                let option = document.createElement('option');
                option.value = index;
                option.textContent = surah.السورة;
                select.appendChild(option);
            });
        });

    function displaySurah() {
        const index = document.getElementById('surahSelect').value;
        const display = document.getElementById('quranDisplay');
        
        if (index === "") {
            display.innerHTML = "";
            return;
        }

        const surah = quranData[index];
        // استخدام "الآيات بالترقيم" لعرض النص القرآني المنسق
        let content = `<div class="surah-title">سورة ${surah.السورة}</div>`;
        
        surah["الآيات بالترقيم"].forEach((ayah, i) => {
            if (ayah.trim() !== "") {
                content += ayah + ` <span style="color: #c0392b;">(${i + 1})</span> `;
            }
        });

        display.innerHTML = content;
    }
</script>

</body>
</html>
