<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù„ÙƒÙŠ</title>

<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
:root{
    --gold:#d4af37;
    --dark:#0c1b2a;
}

/* Ø£Ø±Ø¶ÙŠØ© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
body{
    margin:0;
    font-family:'Cairo',sans-serif;
    background:
    linear-gradient(rgba(0,0,0,0.85),rgba(0,0,0,0.85)),
    url('https://images.unsplash.com/photo-1519817914152-22f90e97a1a0?q=80&w=1400');
    background-size:cover;
    background-attachment:fixed;
    color:white;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:20px;
}

/* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
.card-box{
    width:390px;
    height:540px;
    border-radius:25px;
    overflow:hidden;
    position:relative;
    box-shadow:0 0 40px rgba(0,0,0,0.8);
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:30px;
    background:
    linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)),
    url('https://images.unsplash.com/photo-1585032226651-759b368d7246?q=80&w=800');
    background-size:cover;
}

/* Ø§Ù„Ù†Øµ */
#display-text{
    font-family:'Amiri',serif;
    font-size:1.6rem;
    line-height:1.9;
    color:white;
}

/* Ø§Ù„ÙÙˆØªØ± */
.card-footer{
    position:absolute;
    bottom:15px;
    font-size:0.8rem;
    color:var(--gold);
}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.grid-menu{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:12px;
    width:100%;
    max-width:390px;
    margin-top:25px;
}

button{
    padding:14px;
    border:none;
    border-radius:12px;
    font-size:0.95rem;
    cursor:pointer;
    background:#ffffff15;
    color:white;
    border:1px solid #ffffff30;
    transition:0.3s;
}

button:hover{
    background:var(--gold);
    color:black;
}

.btn-main{
    grid-column:span 2;
    background:var(--gold);
    color:black;
    font-weight:bold;
}

.loader{
    margin-top:10px;
    height:20px;
    font-size:0.9rem;
    color:var(--gold);
}
</style>
</head>

<body>

<h2 style="font-family:'Amiri';color:var(--gold);">Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¯ÙŠÙˆØ§Ù†ÙŠ</h2>

<div class="card-box" id="myCard">
    <div id="display-text">Ø§Ø®ØªØ± Ø¨Ø§Ø¨Ø§Ù‹ Ù„Ø³Ø­Ø¨ Ù†Øµ Ø¥ÙŠÙ…Ø§Ù†ÙŠ âœ¨</div>
    <div class="card-footer">Ø±ÙˆØ¶Ø© Ø§Ù„Ø°ÙƒØ± | Ù†Ø¨Ø¶ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</div>
</div>

<div class="loader" id="loader"></div>

<div class="grid-menu">
    <button onclick="smartFetch('azkar.html')">Ø¨Ø§Ø¨ Ø§Ù„Ø£Ø°ÙƒØ§Ø±</button>
    <button onclick="smartFetch('hadith.html')">Ø¨Ø§Ø¨ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«</button>
    <button onclick="smartFetch('duas.html')">Ø¨Ø§Ø¨ Ø§Ù„Ø£Ø¯Ø¹ÙŠØ©</button>
    <button onclick="smartFetch('werd.html')">Ø¨Ø§Ø¨ Ø§Ù„ÙˆØ±Ø¯</button>
    <button class="btn-main" onclick="downloadImage()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙƒØµÙˆØ±Ø© ğŸ“¥</button>
</div>

<script>
async function smartFetch(url){
    const loader=document.getElementById("loader");
    const display=document.getElementById("display-text");
    loader.innerText="Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...";

    try{
        const response=await fetch(url);
        const html=await response.text();
        const parser=new DOMParser();
        const doc=parser.parseFromString(html,"text/html");

        let elements=Array.from(doc.querySelectorAll("p, li, span, h3, div"));
        let texts=elements
        .map(el=>el.innerText.trim())
        .filter(t=>t.length>40 && t.length<400);

        if(texts.length>0){
            display.innerText=texts[Math.floor(Math.random()*texts.length)];
            loader.innerText="ØªÙ… Ø§Ù„Ø³Ø­Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ¨";
        }else{
            display.innerText="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ Ù…Ù†Ø§Ø³Ø¨ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©.";
            loader.innerText="";
        }

    }catch(e){
        loader.innerText="ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ÙØ§ØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† GitHub.";
    }
}

function downloadImage(){
    html2canvas(document.getElementById("myCard"),{scale:3}).then(canvas=>{
        const link=document.createElement("a");
        link.download="Islamic_Card.png";
        link.href=canvas.toDataURL();
        link.click();
    });
}
</script>

</body>
</html>
