<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¯ÙŠÙˆØ§Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ù„ÙƒÙŠ Ø§Ù„Ù…Ø·ÙˆØ±</title>

<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
:root{
    --main:#0f2027;
    --grad:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    --gold:#d4af37;
}

body{
    background:var(--grad);
    font-family:'Cairo',sans-serif;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:20px;
    color:white;
}

/* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
.card-box{
    width:390px;
    height:540px;
    border-radius:25px;
    overflow:hidden;
    position:relative;
    box-shadow:0 0 40px rgba(0,0,0,0.7);
    background:url('https://images.unsplash.com/photo-1542810634-71277d95dcbb?q=80&w=800') center/cover;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:30px;
}

.card-overlay{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.65);
}

#display-text{
    position:relative;
    z-index:2;
    font-family:'Amiri',serif;
    font-size:1.6rem;
    line-height:1.9;
    color:#fff;
}

.card-footer{
    position:absolute;
    bottom:15px;
    font-size:0.8rem;
    color:var(--gold);
    z-index:2;
}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.buttons{
    margin-top:25px;
    display:flex;
    flex-direction:column;
    gap:12px;
    width:100%;
    max-width:390px;
}

button{
    padding:14px;
    border:none;
    border-radius:12px;
    font-size:1rem;
    cursor:pointer;
    background:#ffffff10;
    color:white;
    border:1px solid #ffffff30;
    transition:0.3s;
}

button:hover{
    background:var(--gold);
    color:black;
}

.loader{
    margin-top:10px;
    height:20px;
    font-size:0.9rem;
    color:var(--gold);
}
</style>
</head>

<body>

<h2 style="font-family:'Amiri';color:var(--gold);">Ø¨Ø·Ø§Ù‚ØªÙƒ Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>

<div class="card-box" id="myCard">
    <div class="card-overlay"></div>
    <div id="display-text">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„Ø³Ø­Ø¨ Ù†Øµ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨</div>
    <div class="card-footer">Ø±ÙˆØ¶Ø© Ø§Ù„Ø°ÙƒØ± | Ù†Ø¨Ø¶ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</div>
</div>

<div class="loader" id="loader"></div>

<div class="buttons">
    <button onclick="fetchAllPages()">Ø³Ø­Ø¨ Ø¨Ø·Ø§Ù‚Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ âœ¨</button>
    <button onclick="downloadImage()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙƒØµÙˆØ±Ø© ðŸ“¥</button>
</div>

<script>

const pages = [
    "azkar.html",
    "hadith.html",
    "duas.html",
    "werd.html"
];

async function fetchAllPages(){
    const loader = document.getElementById("loader");
    const display = document.getElementById("display-text");
    loader.innerText="Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨...";

    try{
        let allTexts=[];

        for(const url of pages){
            const response=await fetch(url);
            const html=await response.text();
            const parser=new DOMParser();
            const doc=parser.parseFromString(html,"text/html");

            let elements=Array.from(doc.querySelectorAll("p, li, span, h3, div"));
            elements.forEach(el=>{
                let text=el.innerText.trim();
                if(text.length>40 && text.length<400){
                    allTexts.push(text);
                }
            });
        }

        if(allTexts.length>0){
            display.innerText=allTexts[Math.floor(Math.random()*allTexts.length)];
            loader.innerText="ØªÙ… Ø§Ø³ØªØ­Ø¶Ø§Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ¨";
        }else{
            display.innerText="Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†ØµÙˆØµ Ù…Ù†Ø§Ø³Ø¨Ø©.";
            loader.innerText="";
        }

    }catch(e){
        loader.innerText="ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† GitHub ÙˆÙ„ÙŠØ³ Ù…Ù† Ù…Ù„Ù Ù…Ø­Ù„ÙŠ.";
    }
}

function downloadImage(){
    html2canvas(document.getElementById("myCard"),{scale:3}).then(canvas=>{
        const link=document.createElement("a");
        link.download="Islamic_Card.png";
        link.href=canvas.toDataURL();
        link.click();
    });
}

</script>

</body>
</html>
